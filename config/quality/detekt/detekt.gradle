
apply plugin: "io.gitlab.arturbosch.detekt"

def qualityConfigDir = "${project.rootDir}/config/quality"
def reportsDir = "${project.buildDir}/reports"

def detektVersion = "1.0.0-RC15"


detekt {
	toolVersion = detektVersion
	input = files("$projectDir")
	config = files("$qualityConfigDir/detekt/detekt.yml")
	filters = ".*test.*,.*/resources/.*,.*/tmp/.*,**/*.gradle.kts"
	ignoreFailures = true  //will be working in next version
	parallel = true
	reports {
		xml {
			enabled = true                                // Enable/Disable XML report (default: true)
			destination = file("$reportsDir/detekt.xml")  // Path where XML report will be stored (default:
		}
		html {
			enabled = true                                // Enable/Disable HTML report (default: true)
			destination = file("$reportsDir/detekt.html") // Path where HTML report will be stored (default:
		}
		custom {
			reportId = "CustomJsonReport"                   // The simple class name of your custom report.
			destination = file("$reportsDir/detekt.json") // Path where report will be stored
		}
	}
}


